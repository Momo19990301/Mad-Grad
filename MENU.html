<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MENU</title>
    <style>
        /* Custom Fonts - 確保字體路徑正確 */
        @font-face {
            font-family: 'GenJyuuGothic';
            src: url('Fonts/GenJyuuGothic-ExtraLight.ttf') format('truetype');
            font-weight: 200; /* ExtraLight */
            font-style: normal;
        }
        @font-face {
            font-family: 'GenJyuuGothic';
            src: url('Fonts/GenJyuuGothic-Light.ttf') format('truetype');
            font-weight: 300; /* Light */
            font-style: normal;
        }
        @font-face {
            font-family: 'GenJyuuGothic';
            src: url('Fonts/GenJyuuGothic-Normal.ttf') format('truetype');
            font-weight: 400; /* Normal/Regular */
            font-style: normal;
        }
        @font-face {
            font-family: 'GenJyuuGothic';
            src: url('Fonts/GenJyuuGothic-Regular.ttf') format('truetype');
            font-weight: 400; /* Normal/Regular */
            font-style: normal;
        }
        @font-face {
            font-family: 'GenJyuuGothic';
            src: url('Fonts/GenJyuuGothic-Medium.ttf') format('truetype');
            font-weight: 500; /* Medium */
            font-style: normal;
        }
        @font-face {
            font-family: 'GenJyuuGothic';
            src: url('Fonts/GenJyuuGothic-Bold.ttf') format('truetype');
            font-weight: 700; /* Bold */
            font-style: normal;
        }
        @font-face {
            font-family: 'GenJyuuGothic';
            src: url('Fonts/GenJyuuGothic-Heavy.ttf') format('truetype');
            font-weight: 900; /* Heavy */
            font-style: normal;
        }

        body {
            margin: 0;
            /* 讓 body 根據內容自然增長高度，並允許滾動 */
            background-color: #161b22; /* 深色背景，作為 fallback */
            width: 100%; /* 確保 body 佔滿整個視窗寬度 */
            position: relative; /* 讓 body 成為定位上下文，以便絕對定位的子元素可以相對於它定位 */
            font-family: 'GenJyuuGothic', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
            color: #c9d1d9; /* 淺色字體，模擬深色模式 */
            line-height: 1.6;
            /* 所有文字的通用發光效果，非常微妙 */
            text-shadow: 0 0 2px rgba(255,255,255,0.2);
            min-height: 100vh; /* 新增：確保 body 至少佔滿視窗高度 */
            display: flex; /* 新增：啟用 Flexbox 佈局 */
            flex-direction: column; /* 新增：子元素垂直堆疊 */
            justify-content: center; /* 新增：垂直居中內容 */
            align-items: center; /* 新增：水平居中內容 */
            padding: 40px 0; /* 新增：為內容提供上下邊距 */
            box-sizing: border-box; /* 新增：確保 padding 不會增加總寬度/高度 */
        }
        
        /* Canvas 背景樣式 */
        canvas {
            position: fixed; /* 讓 Canvas 固定在視窗背景，不隨滾動條移動 */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: block;
            z-index: 1; /* 最底層 */
        }

        /* 新增圖片容器樣式：位於 Canvas 上方，內容下方，固定在畫面中央 */
        .fixed-background-image-layer {
            position: fixed; /* 固定在視窗中，不隨滾動條移動 */
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* 精確居中 */
            width: 100vw; /* 佔滿視窗寬度 */
            height: 100vh; /* 佔滿視窗高度 */
            display: flex; /* 使用 flex 居中內部的圖片 */
            justify-content: center;
            align-items: center;
            z-index: 2; /* 在 Canvas (z-index: 1) 上方，在 menu-content-wrapper (z-index: 10) 下方 */
            pointer-events: none; /* 允許點擊穿透圖片到後面的元素 */
            opacity: 0.5; /* <--- 在這裡調整透明度！值從 0.0 (完全透明) 到 1.0 (完全不透明) */
        }
        .fixed-background-image-layer img {
            display: block;
            width: 100%; /* 圖片寬度佔滿父容器 */
            height: 100%; /* 圖片高度佔滿父容器 */
            object-fit: contain; /* 【重要修改】確保圖片完整顯示，不裁剪，可能會留白邊 */
            border-radius: 8px; /* 圖片本身也可以有圓角 */
            /* 圖片本身不需要 box-shadow，因為外層容器已經是半透明的 */
        }


        /* MENU 內容的容器，使其疊加在 Canvas 和固定圖片上方 */
        .menu-content-wrapper {
            position: relative; /* 確保在 Canvas 和圖片上方 */
            z-index: 10; /* 在固定圖片 (z-index: 2) 上方 */
            background-color: rgba(22, 27, 34, 0.8); /* 半透明背景 */
            max-width: 900px; 
            width: 90%; 
            padding: 20px; 
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.8); 
            border-radius: 8px; 
            box-sizing: border-box; 
            /* 重新添加 margin: auto 進行水平居中，並提供上下邊距 */
            /* margin: 40px auto; */
            /* 讓內容自然流動，並由 body 處理滾動 */
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'GenJyuuGothic', sans-serif;
            color: #ffffff; /* 標題顏色 */
            margin-top: 1.2em;
            margin-bottom: 0.8em;
            /* MENU 標題的發光效果 */
            text-shadow: 0 0 10px rgba(255,255,255,0.8), 0 0 20px rgba(255,255,255,0.4); 
        }
        h1 { 
            margin: 0; 
            padding: 0; 
        }

        /* 超連結文字的顏色和發光效果 */
        a {
            color: #FFC000; /* 連結文字顏色與發光顏色一致 */
            text-decoration: none;
            text-shadow: 0 0 8px #FFC000, 0 0 15px rgba(255,192,0,0.3); 
            transition: color 0.3s ease, text-shadow 0.3s ease; /* 添加過渡效果 */
        }

        /* 超連結鼠標靠近時變亮 */
        a:hover {
            color: #FFFF00; /* 懸停時顏色更亮，接近純黃色 */
            text-shadow: 0 0 15px #FFFF00, 0 0 25px rgba(255,255,0,0.6); /* 懸停時發光更強 */
            text-decoration: underline;
        }

        p {
            margin-bottom: 1em;
        }

        ul {
            list-style-type: none; 
            padding-left: 0; 
        }
        li {
            /* 新增底部邊框作為分隔線 */
            border-bottom: 1px solid rgba(128, 128, 128, 0.3); /* 淺灰色半透明線條 */
            padding-bottom: 8px; /* 線條下方間距 */
            margin-bottom: 8px; /* 列表項目之間間距 */
            padding-top: 5px; /* 線條上方間距 */
        }
        /* 移除最後一個列表項目的底部邊框，避免多餘的線條 */
        li:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        /* 如果是巢狀列表，其最後一個子項目的底部邊框也移除 */
        .collapsible-content li:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }


        code {
            font-family: "Fira Code", "Cascadia Code", "JetBrains Mono", monospace;
            background-color: #2b323b;
            padding: 2px 4px;
            border-radius: 4px;
            color: #e6edfa;
        }

        pre {
            background-color: #2b323b;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            margin-bottom: 1.5em;
        }

        pre code {
            background-color: transparent;
            padding: 0;
            color: inherit;
        }

        blockquote {
            border-left: 4px solid #6a737d;
            padding-left: 15px;
            margin-left: 0;
            color: #8b949e;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1em;
        }

        th, td {
            border: 1px solid #30363d;
            padding: 8px;
            text-align: left;
        }

        th {
            background-color: #30363d;
            color: #c9d1d9;
        }

        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }

        /* 自定義 Hashtag 樣式 */
        .hashtag {
            color: #ddd; 
            background-color: #4a3e6b; 
            padding: 3px 8px; 
            border-radius: 6px; 
            font-size: 0.85em; 
            margin-right: 6px; 
            white-space: nowrap;
            display: inline-block; 
        }

        /* 資料夾名稱和箭頭樣式 */
        .folder-name {
            font-family: 'GenJyuuGothic', sans-serif;
            cursor: pointer; 
            font-weight: bold;
            color: white; /* 資料夾名稱文字顏色設定為白色 */
            user-select: none; 
            text-shadow: 0 0 8px white, 0 0 15px rgba(255,255,255,0.3); 
            transition: color 0.3s ease, text-shadow 0.3s ease; /* 添加過渡效果 */
        }
        /* 資料夾名稱鼠標靠近時變亮 */
        .folder-name:hover {
            color: #E0E0E0; /* 懸停時顏色稍亮 */
            text-shadow: 0 0 12px white, 0 0 20px rgba(255,255,255,0.5); /* 懸停時發光更強 */
        }

        .folder-toggle {
            display: inline-block;
            width: 1em; 
            margin-right: 5px;
            color: #0FFFC0; /* ">" 符號文字顏色設定為青綠色 */
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s ease-in-out, color 0.3s ease, text-shadow 0.3s ease; /* 添加過渡效果 */
            text-shadow: 0 0 8px #0FFFC0, 0 0 15px rgba(0,255,192,0.3); 
        }
        /* 下拉符號鼠標靠近時變亮 */
        .folder-toggle:hover {
            color: #66FFFF; /* 懸停時顏色更亮 */
            text-shadow: 0 0 12px #66FFFF, 0 0 20px rgba(102,255,255,0.6); /* 懸停時發光更強 */
        }
        .folder-toggle.expanded {
            transform: rotate(90deg); 
        }
        /* 可收合內容的樣式 */
        .collapsible-content {
            display: none; 
            padding-left: 20px; 
            border-left: 1px solid #0fffbfb6; 
            margin-top: 5px;
        }
        .collapsible-content.expanded {
            display: block; 
        }

        /* 連結樣式 (再次定義以確保優先級，並將顏色與發光顏色一致) */
        li > a {
            font-family: 'GenJyuuGothic', sans-serif;
            font-size: 1.1em;
            color: #FFC000; /* 連結顏色與發光顏色一致 */
            text-decoration: none;
            text-shadow: 0 0 8px #FFC000, 0 0 15px rgba(255,192,0,0.3); 
            transition: color 0.3s ease, text-shadow 0.3s ease; /* 添加過渡效果 */
        }
        li > a:hover {
            color: #FFFF00; /* 懸停時顏色更亮，接近純黃色 */
            text-shadow: 0 0 15px #FFFF00, 0 0 25px rgba(255,255,0,0.6); /* 懸停時發光更強 */
            text-decoration: underline;
        }

        /* 為 Back to MENU 連結和 header-container 新增的樣式 (也適用於 MENU.html 的登出按鈕) */
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-shrink: 0; 
        }
        .header-container h1 {
            margin: 0;
            padding: 0;
            color: #fff;
        }
        .user-info { 
            color: #0FFFC0; /* Welcome, DemoUser! 文字顏色設定為青綠色 */
            font-size: 1em;
            margin-right: 15px; 
            text-shadow: 0 0 8px #0FFFC0, 0 0 15px rgba(0,255,192,0.3); /* 與下拉符號相同的發光效果 */
            transition: color 0.3s ease, text-shadow 0.3s ease; /* 添加過渡效果 */
        }
        /* 用戶資訊鼠標靠近時變亮 */
        .user-info:hover {
            color: #66FFFF; /* 懸停時顏色更亮 */
            text-shadow: 0 0 12px #66FFFF, 0 0 20px rgba(102,255,255,0.6); /* 懸停時發光更強 */
        }

        .header-right { 
            display: flex;
            align-items: center;
        }
        .logout-button { 
            background-color: #FF4D4D; 
            color: white; /* 按鈕文字顏色 */
            padding: 8px 15px;
            border-radius: 5px;
            text-decoration: none;
            font-size: 0.9em;
            font-weight: bold;
            transition: background-color 0.3s ease, color 0.3s ease, text-shadow 0.3s ease; /* 添加過渡效果 */
            cursor: pointer;
            border: none; 
            font-family: 'GenJyuuGothic', sans-serif; 
            text-shadow: 0 0 5px rgba(255,255,255,0.7); 
        }
        /* 登出按鈕文字鼠標靠近時變亮 */
        .logout-button:hover {
            background-color: #CC0000; 
            color: #FFEEEE; /* 懸停時文字顏色稍亮 */
            text-shadow: 0 0 8px rgba(255,255,255,1), 0 0 15px rgba(255,255,255,0.8); /* 懸停時發光更強 */
            text-decoration: none; 
        }

        /* 語言切換按鈕樣式 */
        .language-switcher {
            display: flex;
            align-items: center;
            margin-right: 15px; /* 與用戶資訊保持距離 */
            border: 1px solid rgba(255, 255, 255, 0.3); /* 輕微邊框 */
            border-radius: 5px;
            overflow: hidden; /* 確保按鈕圓角 */
        }
        .lang-button {
            padding: 5px 10px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
            color: #c9d1d9; /* 預設文字顏色 */
            background-color: rgba(43, 48, 59, 0.7); /* 預設背景色 */
            transition: background-color 0.3s ease, color 0.3s ease, text-shadow 0.3s ease;
            text-shadow: none; /* 移除預設發光，active 時再添加 */
        }
        .lang-button:hover:not(.active) {
            background-color: rgba(60, 68, 80, 0.8);
            color: #e0e0e0;
        }
        .lang-button.active {
            background-color: #0FFFC0; /* 選中時的背景色 */
            color: #161b22; /* 選中時的文字顏色 */
            text-shadow: 0 0 5px #0FFFC0; /* 選中時的發光 */
        }
        /* 確保左右兩個按鈕之間有分隔線，或者邊界清晰 */
        #langZh {
            border-right: 1px solid rgba(255, 255, 255, 0.3);
        }

        /* 響應式調整 */
        @media (max-width: 768px) {
            .menu-content-wrapper {
                margin: 20px auto;
                padding: 15px;
            }
            h1 {
                font-size: 1.8em;
            }
            .user-info {
                font-size: 0.9em;
                margin-right: 10px;
            }
            .logout-button {
                padding: 6px 12px;
                font-size: 0.8em;
            }
            /* 響應式調整語言切換按鈕 */
            .language-switcher {
                margin-right: 10px;
            }
            .lang-button {
                padding: 4px 8px;
                font-size: 0.8em;
            }
        }
    </style>
</head>
<body>
    <canvas id="breathingGradientCanvas"></canvas>

    <!-- 【新增圖片層】圖片放在這裡，位於 Canvas (z-index: 1) 和 menu-content-wrapper (z-index: 10) 之間 -->
    <!-- 圖片檔案必須放在 'HTML_Output/Illustration/' 資料夾中 -->
    <div class="fixed-background-image-layer">
        <img src="Illustration/New_Cover.png" alt="Cover Image">
    </div>
    
    <div class="menu-content-wrapper">
        
        <div class="header-container">
            <h1 data-lang-key="menu_title">MENU</h1>
            <div class="header-right">
                <div class="language-switcher">
                    <span id="langZh" class="lang-button active" data-lang="zh">繁體中文</span>
                    <span id="langEn" class="lang-button" data-lang="en">English</span>
                </div>
                <span id="userInfo" class="user-info" data-lang-key="welcome_message">Welcome, Guest!</span>
                <button id="logoutButton" class="logout-button" data-lang-key="logout_button">Log out</button>
            </div>
        </div>
        <ul>
            
                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="lab_folder">Lab</span>
                    <ul class="collapsible-content">
                        <li><a href="Lab\SoC Lab.html" data-lang-key="soc_lab_link">SoC Lab</a></li>
<li><a href="Lab\AIoT Lab.html" data-lang-key="aiot_lab_link">AIoT Lab</a></li>
<li><a href="Lab\EMCA Lab.html" data-lang-key="emca_lab_link">EMCA Lab</a></li>
<li><a href="Lab\Badass.html" data-lang-key="badass_link">Badass</a></li>
                    </ul>
                </li>
            

                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="soc_lab_link">SoC Lab</span>
                    <ul class="collapsible-content">
                        <li><a href="SoC Lab\Prof. 蛋頭博士.html" data-lang-key="prof_link">Prof. 蛋頭博士</a></li>
<li><a href="SoC Lab\余十三.html" data-lang-key="余十三_link">余十三</a></li>
<li><a href="SoC Lab\小南瓜.html" data-lang-key="小南瓜_link">小南瓜</a></li>
<li><a href="SoC Lab\徐丞丞.html" data-lang-key="徐丞丞_link">徐丞丞</a></li>
<li><a href="SoC Lab\心碎小狗.html" data-lang-key="心碎小狗_link">心碎小狗</a></li>
<li><a href="SoC Lab\應葛格.html" data-lang-key="應葛格_link">應葛格</a></li>
<li><a href="SoC Lab\敦敦.html" data-lang-key="敦敦_link">敦敦</a></li>
<li><a href="SoC Lab\梵楓霖.html" data-lang-key="梵楓霖_link">梵楓霖</a></li>
<li><a href="SoC Lab\橋牌社長.html" data-lang-key="橋牌社長_link">橋牌社長</a></li>
<li><a href="SoC Lab\湖口砲兵連連長.html" data-lang-key="湖口砲兵連連長_link">湖口砲兵連連長</a></li>
<li><a href="SoC Lab\焦糖o彤兒.html" data-lang-key="焦糖o彤兒_link">焦糖o彤兒</a></li>
<li><a href="SoC Lab\珊珊姊.html" data-lang-key="珊珊姊_link">珊珊姊</a></li>
<li><a href="SoC Lab\色彩學大師.html" data-lang-key="色彩學大師_link">色彩學大師</a></li>
<li><a href="SoC Lab\諸葛小劉.html" data-lang-key="諸葛小劉_link">諸葛小劉</a></li>
<li><a href="SoC Lab\陳大帥帥.html" data-lang-key="陳大帥帥_link">陳大帥帥</a></li>
<li><a href="SoC Lab\馬華.html" data-lang-key="馬華_link">馬華</a></li>
<li><a href="SoC Lab\黃老二.html" data-lang-key="黃老二_link">黃老二</a></li>
                    </ul>
                </li>
            

                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="aiot_lab_link">AIoT Lab</span>
                    <ul class="collapsible-content">
                        <li><a href="AIoT Lab\Rocky.html" data-lang-key="rocky_link">Rocky</a></li>
<li><a href="AIoT Lab\小瓜.html" data-lang-key="小瓜_link">小瓜</a></li>
<li><a href="AIoT Lab\慈慈.html" data-lang-key="慈慈_link">慈慈</a></li>
<li><a href="AIoT Lab\求萌 & 首蒙元.html" data-lang-key="求萌_8_首蒙元_link">求萌 & 首蒙元</a></li>
<li><a href="AIoT Lab\牛仔褲寶貝.html" data-lang-key="牛仔褲寶貝_link">牛仔褲寶貝</a></li>
<li><a href="AIoT Lab\老人與狗.html" data-lang-key="老人與狗_link">老人與狗</a></li>
<li><a href="AIoT Lab\阿詠.html" data-lang-key="阿詠_link">阿詠</a></li>
                    </ul>
                </li>
            

                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="emca_lab_link">EMCA Lab</span>
                    <ul class="collapsible-content">
                        <li><a href="EMCA Lab\海神巨獸.html" data-lang-key="海神巨獸_link">海神巨獸</a></li>
<li><a href="EMCA Lab\金門王.html" data-lang-key="金門王_link">金門王</a></li>
                    </ul>
                </li>
            

                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="badass_link">Badass</span>
                    <ul class="collapsible-content">
                        <li><a href="Badass\憑拳大將軍.html" data-lang-key="憑拳大將軍_link">憑拳大將軍</a></li>
<li><a href="Badass\懶惰小依 & 賴床小依.html" data-lang-key="懶惰小依_8_賴床小依_link">懶惰小依 & 賴床小依</a></li>
<li><a href="Badass\渟渟急轉彎.html" data-lang-key="渟渟急轉彎_link">渟渟急轉彎</a></li>
<li><a href="Badass\王依渟.html" data-lang-key="王依渟_link">王依渟</a></li>
<li><a href="Badass\紀崴.html" data-lang-key="紀崴_link">紀崴</a></li>
<li><a href="Badass\蒂娜.html" data-lang-key="蒂娜_link">蒂娜</a></li>
                    </ul>
                </li>
            

                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="algorithm_folder">Algorithm</span>
                    <ul class="collapsible-content">
                        
                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="hand_based_folder">Hand Based</span>
                    <ul class="collapsible-content">
                        <li><a href="Algorithm\Hand Based\Artificial Intelligence.html" data-lang-key="artificial_intelligence_link">Artificial Intelligence</a></li>
<li><a href="Algorithm\Hand Based\Demosaicing.html" data-lang-key="demosaicing_link">Demosaicing</a></li>
<li><a href="Algorithm\Hand Based\Eye Corner Detection.html" data-lang-key="eye_corner_detection_link">Eye Corner Detection</a></li>
<li><a href="Algorithm\Hand Based\Histogram Equalization.html" data-lang-key="histogram_equalization_link">Histogram Equalization</a></li>
<li><a href="Algorithm\Hand Based\Iris Matching.html" data-lang-key="iris_matching_link">Iris Matching</a></li>
<li><a href="Algorithm\Hand Based\Phase Search.html" data-lang-key="phase_search_link">Phase Search</a></li>
                    </ul>
                </li>
            

                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="paper_based_folder">Paper Based</span>
                    <ul class="collapsible-content">
                        <li><a href="Algorithm\Paper Based\Auto White Balance.html" data-lang-key="auto_white_balance_link">Auto White Balance</a></li>
<li><a href="Algorithm\Paper Based\Digital IC Design.html" data-lang-key="digital_ic_design_link">Digital IC Design</a></li>
<li><a href="Algorithm\Paper Based\Firework Algorithm.html" data-lang-key="firework_algorithm_link">Firework Algorithm</a></li>
<li><a href="Algorithm\Paper Based\Halftone.html" data-lang-key="halftone_link">Halftone</a></li>
<li><a href="Algorithm\Paper Based\Lossy Compression.html" data-lang-key="lossy_compression_link">Lossy Compression</a></li>
<li><a href="Algorithm\Paper Based\Tone Reproduction.html" data-lang-key="tone_reproduction_link">Tone Reproduction</a></li>
                    </ul>
                </li>
            

                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="rule_based_folder">Rule Based</span>
                    <ul class="collapsible-content">
                        <li><a href="Algorithm\Rule Based\Big Data Analysis.html" data-lang-key="big_data_analysis_link">Big Data Analysis</a></li>
<li><a href="Algorithm\Rule Based\Fuzzy Control.html" data-lang-key="fuzzy_control_link">Fuzzy Control</a></li>
<li><a href="Algorithm\Rule Based\Motion Estimation & Compensation.html" data-lang-key="motion_estimation_8_compensation_link">Motion Estimation & Compensation</a></li>
<li><a href="Algorithm\Rule Based\NAS Database.html" data-lang-key="nas_database_link">NAS Database</a></li>
<li><a href="Algorithm\Rule Based\Noise Filter.html" data-lang-key="noise_filter_link">Noise Filter</a></li>
<li><a href="Algorithm\Rule Based\Parallel Computing.html" data-lang-key="parallel_computing_link">Parallel Computing</a></li>
                    </ul>
                </li>
            
                    </ul>
                </li>
            

                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="action_folder">Action</span>
                    <ul class="collapsible-content">
                        <li><a href="Action\All-nighter.html" data-lang-key="all_nighter_link">All-nighter</a></li>
<li><a href="Action\Analyze.html" data-lang-key="analyze_link">Analyze</a></li>
<li><a href="Action\Anticipate.html" data-lang-key="anticipate_link">Anticipate</a></li>
<li><a href="Action\Assign.html" data-lang-key="assign_link">Assign</a></li>
<li><a href="Action\Defer.html" data-lang-key="defer_link">Defer</a></li>
<li><a href="Action\Dump.html" data-lang-key="dump_link">Dump</a></li>
<li><a href="Action\Falsify.html" data-lang-key="falsify_link">Falsify</a></li>
<li><a href="Action\Forced Publish.html" data-lang-key="forced_publish_link">Forced Publish</a></li>
<li><a href="Action\Let's ball.html" data-lang-key="lets_ball_link">Let's ball</a></li>
<li><a href="Action\Paper Storm.html" data-lang-key="paper_storm_link">Paper Storm</a></li>
<li><a href="Action\Plagiarize.html" data-lang-key="plagiarize_link">Plagiarize</a></li>
<li><a href="Action\Retract.html" data-lang-key="retract_link">Retract</a></li>
<li><a href="Action\Seminar.html" data-lang-key="seminar_link">Seminar</a></li>
<li><a href="Action\Side Quest.html" data-lang-key="side_quest">Side Quest</a></li>
<li><a href="Action\Start Over.html" data-lang-key="start_over_link">Start Over</a></li>
                    </ul>
                </li>
            

                <li>
                    <span class="folder-toggle">►</span> <span class="folder-name" data-lang-key="appendix_folder">Appendix</span>
                    <ul class="collapsible-content">
                        <li><a href="Appendix\Rock.html" data-lang-key="rock_link">Rock</a></li>
<li><a href="Appendix\深淵.html" data-lang-key="深淵_link">深淵</a></li>
<li><a href="Appendix\球球.html" data-lang-key="球球_link">球球</a></li>
<li><a href="Appendix\穢土轉生研究生.html" data-lang-key="穢土轉生研究生_link">穢土轉生研究生</a></li>
                    </ul>
                </li>
            
        </ul>
    
        <!-- 你的 MD_to_HTML.py 腳本應該將轉換後的 Markdown 內容 (header-container 和 ul 列表) 插入到這裡 -->
    </div>

    <script>
        const canvas = document.getElementById('breathingGradientCanvas');
        const ctx = canvas.getContext('2d');

        // 語言翻譯字典
        const translations = {
            zh: {
                menu_title: "選單",
                welcome_message: "歡迎, ", // 注意：這裡只放“歡迎,”，後面的用戶名會動態拼接
                logout_button: "登出",
                lab_folder: "實驗室",
                    soc_lab_link: "系統單晶片 實驗室",
                    aiot_lab_link: "智慧物聯網 實驗室",
                    emca_lab_link: "電機控制與應用 實驗室",
                    badass_link: "狠角色",
                algorithm_folder: "演算法",
                    paper_based_folder: "論文系",
                        halftone_link: "半色調",
                        digital_ic_design_link: "數位晶片設計",
                        firework_algorithm_link: "煙花演算法",
                        lossy_compression_link: "破壞性資料壓縮",
                        auto_white_balance_link: "自動白平衡",
                        tone_reproduction_link: "色調重現",
                    hand_based_folder: "手牌系",
                        artificial_intelligence_link: "人工智慧",
                        histogram_equalization_link: "直方圖均衡化",
                        eye_corner_detection_link: "眼角偵測",
                        iris_matching_link: "虹膜匹配",
                        demosaicing_link: "解馬賽克",
                        phase_search_link: "階段式搜索",
                    rule_based_folder: "規則系",
                        big_data_analysis_link: "大數據分析",
                        nas_database_link: "NAS 資料庫",
                        parallel_computing_link: "平行計算",
                        motion_estimation_8_compensation_link: "動作估計 & 補償",
                        fuzzy_control_link: "模糊控制",
                        noise_filter_link: "雜訊濾波器",
                action_folder: "動作",
                    assign_link: "指定",
                    seminar_link: "書報討論",
                    defer_link: "休學",
                    analyze_link: "研究",
                    retract_link: "撤銷",
                    anticipate_link: "預判",
                    plagiarize_link: "抄襲",
                    dump_link: "擺爛",
                    forced_publish_link: "強制發表",
                    falsify_link: "偽造",
                    start_over_link: "砍掉重練",
                    all_nighter_link: "今晚加班",
                    paper_storm_link: "論文高產",
                    lets_ball_link: "走啊打球",
                    side_quest: "支線任務",
                appendix_folder: "附件"
            },
            en: {
                menu_title: "MENU",
                welcome_message: "Welcome, ", // 注意：這裡只放“Welcome,”，後面的用戶名會動態拼接
                logout_button: "Log out",
                lab_folder: "Lab",
                    soc_lab_link: "SoC Lab",
                    aiot_lab_link: "AIoT Lab",
                    emca_lab_link: "EMCA Lab",
                    badass_link: "Badass",
                algorithm_folder: "Algorithm",
                    paper_based_folder: "Paper Based",
                        halftone_link: "Halftone",
                        digital_ic_design_link: "Digital IC Design",
                        firework_algorithm_link: "Firework Algorithm",
                        lossy_compression_link: "Lossy Compression",
                        auto_white_balance_link: "Auto White Balance",
                        tone_reproduction_link: "Tone Reproduction",
                    hand_based_folder: "Hand Based",
                        artificial_intelligence_link: "Artificial Intelligence",
                        histogram_equalization_link: "Histogram Equalization",
                        eye_corner_detection_link: "Eye Corner Detection",
                        iris_matching_link: "Iris Matching",
                        demosaicing_link: "Demosaicing",
                        phase_search_link: "Phase Search",
                    rule_based_folder: "Rule Based",
                        big_data_analysis_link: "Big Data Analysis",
                        nas_database_link: "NAS Database",
                        parallel_computing_link: "Parallel Computing",
                        motion_estimation_8_compensation_link: "Motion Estimation & Compensation",
                        fuzzy_control_link: "Fuzzy Control",
                        noise_filter_link: "Noise Filter",
                action_folder: "Action",
                    assign_link: "Assign",
                    seminar_link: "Seminar",
                    defer_link: "Defer",
                    analyze_link: "Analyze",
                    retract_link: "Retract",
                    anticipate_link: "Anticipate",
                    plagiarize_link: "Plagiarize",
                    dump_link: "Dump",
                    forced_publish_link: "Forced Publish",
                    falsify_link: "Falsify",
                    start_over_link: "Start Over",
                    all_nighter_link: "All-nighter",
                    paper_storm_link: "Paper Storm",
                    lets_ball_link: "Let's ball",
                    side_quest: "Side Quest",
                appendix_folder: "Appendix"
            }
        };

        // 獲取所有需要翻譯的元素
        const translatableElements = document.querySelectorAll('[data-lang-key]');

        // 函數：應用翻譯
        function applyTranslations(lang) {
            translatableElements.forEach(element => {
                const key = element.getAttribute('data-lang-key');
                if (key && translations[lang] && translations[lang][key] !== undefined) {
                    if (key === 'welcome_message') {
                        // 特殊處理 welcome_message，只翻譯前綴，保留用戶名
                        const currentUserId = sessionStorage.getItem('currentUserId');
                        element.textContent = translations[lang][key] + (currentUserId ? currentUserId + '!' : 'Guest!');
                    } else {
                        element.textContent = translations[lang][key];
                    }
                }
            });

            // 更新語言切換按鈕的 active 狀態
            document.querySelectorAll('.lang-button').forEach(button => {
                if (button.getAttribute('data-lang') === lang) {
                    button.classList.add('active');
                } else {
                    button.classList.remove('active');
                }
            });

            // 將當前語言儲存到 localStorage
            localStorage.setItem('currentLanguage', lang);
        }

        // 基礎暗色背景漸層顏色
        const baseGradientColors = {
            start: '#000000', // 非常暗的藍紫色
            end: '#323232'    // 稍微亮一點的暗紫色
        };

        // 呼吸光暈的顏色 (已調整為更鮮豔的色彩值)
        const breathingLightColors = [
            { r: 255, g: 0, b: 0 },   // 紅色 (更鮮豔的紅)
            { r: 0, g: 255, b: 0 },   // 綠色 (更鮮豔的綠/青綠)
            { r: 0, g: 0, b: 255 }    // 藍色 (保持不變)
        ];

        // 呼吸光暈物件陣列
        let breathingLights = [];

        // 初始化呼吸光暈的屬性
        function initBreathingLights() {
            breathingLights = []; 
            // 確保 Canvas 尺寸至少為 10，避免 Math.max(0,0) * 0.8 = 0 的情況
            // 使用 Math.max(10, ...) 確保即使 window.innerWidth/Height 為 0 或無效，也能有最小尺寸
            const minCanvasDim = Math.max(10, Number.isFinite(canvas.width) && canvas.width > 0 ? canvas.width : 800, Number.isFinite(canvas.height) && canvas.height > 0 ? canvas.height : 600);
            const minRadius = minCanvasDim * 0.8; 
            // 增加脈衝幅度，讓呼吸效果更明顯
            const maxPulseAmplitude = minRadius * 0.4; 

            // 紅光暈
            breathingLights.push({
                x: canvas.width * 0.2, 
                y: canvas.height * 0.8,
                baseRadius: minRadius,
                maxPulse: maxPulseAmplitude,
                pulseSpeed: 0.001, 
                color: breathingLightColors[0],
                offset: Math.PI * 0.7, 
                baseOpacity: 0.10 
            });

            // 綠光暈
            breathingLights.push({
                x: canvas.width * 0.5, 
                y: canvas.height * 0.5,
                baseRadius: minRadius,
                maxPulse: maxPulseAmplitude,
                pulseSpeed: 0.001, 
                color: breathingLightColors[1],
                offset: Math.PI * 0.7, 
                baseOpacity: 0.10 
            });

            // 藍光暈
            breathingLights.push({
                x: canvas.width * 0.8, 
                y: canvas.height * 0.2,
                baseRadius: minRadius,
                maxPulse: maxPulseAmplitude,
                pulseSpeed: 0.001, 
                color: breathingLightColors[2],
                offset: Math.PI * 0.7, 
                baseOpacity: 0.10 
            });
        }

        // 繪製基礎暗色背景漸層
        function drawBaseGradient() {
            const gradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height); 
            gradient.addColorStop(0, baseGradientColors.start);
            gradient.addColorStop(1, baseGradientColors.end);
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }

        // 繪製呼吸光暈
        function drawBreathingLights() {
            // 在繪製前再次檢查 Canvas 尺寸是否有效
            if (!Number.isFinite(canvas.width) || canvas.width <= 0 || !Number.isFinite(canvas.height) || canvas.height <= 0) {
                console.error("Canvas dimensions are invalid or zero, skipping drawing frame.");
                return; // 跳過繪製，避免錯誤
            }

            breathingLights.forEach(light => {
                const pulseValue = Math.sin(Date.now() * light.pulseSpeed + light.offset);
                
                // 計算 currentRadius，確保它是有限的正數，且至少為 1.0
                let currentRadius = light.baseRadius + pulseValue * light.maxPulse;
                if (!Number.isFinite(currentRadius) || currentRadius < 1.0) {
                    currentRadius = 1.0; // Fallback to a safe positive value
                }
                
                // 計算 currentOpacity，確保它是有限且在 0-1 之間
                let currentOpacity = light.baseOpacity + Math.max(0, pulseValue * 0.05); 
                if (!Number.isFinite(currentOpacity) || currentOpacity < 0) {
                    currentOpacity = 0.01; 
                } else if (currentOpacity > 1) {
                    currentOpacity = 1;
                }

                // 確保 light.x 和 light.y 是有限的，避免 createRadialGradient 報錯
                const safeX = Number.isFinite(light.x) ? light.x : canvas.width / 2;
                const safeY = Number.isFinite(light.y) ? light.y : canvas.height / 2;

                // 在呼叫 createRadialGradient 前，再次對所有參數進行最終檢查
                if (!Number.isFinite(safeX) || !Number.isFinite(safeY) || !Number.isFinite(currentRadius) || currentRadius <= 0) {
                    console.error("Invalid parameters for createRadialGradient:", { safeX, safeY, currentRadius });
                    return; // 跳過此光暈的繪製
                }

                const gradient = ctx.createRadialGradient(safeX, safeY, 0, safeX, safeY, currentRadius);
                
                gradient.addColorStop(0, `rgba(${light.color.r}, ${light.color.g}, ${light.color.b}, ${currentOpacity * 1.5})`); 
                gradient.addColorStop(0.5, `rgba(${light.color.r}, ${light.color.g}, ${light.color.b}, ${currentOpacity * 0.8})`);
                gradient.addColorStop(1, `rgba(${light.color.r}, ${light.color.g}, ${light.color.b}, 0)`);

                ctx.fillStyle = gradient;
                ctx.globalCompositeOperation = 'lighter'; 
                ctx.fillRect(0, 0, canvas.width, canvas.height); 
                ctx.globalCompositeOperation = 'source-over'; 
            });
        }

        // 動畫循環
        function animate() {
            drawBaseGradient();
            drawBreathingLights();
            requestAnimationFrame(animate);
        }

        // 處理視窗大小改變
        function resizeCanvas() {
            // 確保 width 和 height 是有效的正數，如果不是則設定預設值
            canvas.width = Number.isFinite(window.innerWidth) && window.innerWidth > 0 ? window.innerWidth : 800;
            canvas.height = Number.isFinite(window.innerHeight) && window.innerHeight > 0 ? window.innerHeight : 600;
            initBreathingLights();
        }

        // 初始化並啟動動畫
        window.addEventListener('resize', resizeCanvas); 
        resizeCanvas();
        animate();

        // MENU 頁面原有的 JavaScript 邏輯
        document.addEventListener('DOMContentLoaded', function() {
            // 登入檢查
            const isLoggedIn = sessionStorage.getItem('loggedIn');
            if (isLoggedIn !== 'true') {
                const currentDirPath = window.location.href.substring(0, window.location.href.lastIndexOf('/') + 1);
                window.location.href = currentDirPath + 'Login.html'; 
            }

            // 顯示用戶資訊
            const userInfoSpan = document.getElementById('userInfo');
            const currentUserId = sessionStorage.getItem('currentUserId');
            // if (userInfoSpan && currentUserId) {
            //     userInfoSpan.textContent = 'Welcome, ' + currentUserId + '!';
            // } else if (userInfoSpan) { // 如果沒有 currentUserId，顯示預設值
            //     userInfoSpan.textContent = 'Welcome, Guest!'; 
            // }

            // 登出按鈕功能
            const logoutButton = document.getElementById('logoutButton');
            if (logoutButton) {
                logoutButton.addEventListener('click', function(event) {
                    event.preventDefault();
                    sessionStorage.removeItem('loggedIn'); // 清除登入標誌
                    sessionStorage.removeItem('currentUserId'); // 移除用戶 ID
                    const currentDirPath = window.location.href.substring(0, window.location.href.lastIndexOf('/') + 1);
                    window.location.href = currentDirPath + 'Login.html'; 
                });
            }

            // 資料夾收合/展開功能
            const folderToggles = document.querySelectorAll('.folder-toggle');
            folderToggles.forEach(toggle => {
                toggle.addEventListener('click', function() {
                    this.classList.toggle('expanded');
                    const content = this.closest('li').querySelector('.collapsible-content');
                    if (content) {
                        content.classList.toggle('expanded');
                    }
                });

                const folderName = toggle.nextElementSibling; // folder-name span
                if (folderName && folderName.classList.contains('folder-name')) {
                    folderName.addEventListener('click', function() {
                        this.previousElementSibling.click();
                    });
                }
            });

            // 【新增】語言切換邏輯
            const langZhButton = document.getElementById('langZh');
            const langEnButton = document.getElementById('langEn');

            if (langZhButton) {
                langZhButton.addEventListener('click', () => applyTranslations('zh'));
            }
            if (langEnButton) {
                langEnButton.addEventListener('click', () => applyTranslations('en'));
            }

            // 頁面載入時，檢查 localStorage 或預設為英文
            const savedLanguage = localStorage.getItem('currentLanguage');
            applyTranslations(savedLanguage || 'en'); // 預設為英文

        });
    </script>
</body>
</html>
